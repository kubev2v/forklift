# vSphere XCOPY Volume Populator E2E Test Configuration
# Copy this file to test-config.env and customize for your environment.
# This file is ignored by git.

# ========================================
# VMware vSphere Configuration
# ========================================
# WARNING: Never commit actual credentials to version control
# Use environment variables, secret management tools, or CI/CD secrets

# Global environment variables automatically recognized by Ansible VMware modules
VMWARE_HOST=vcenter.example.com
VMWARE_USER=administrator@vsphere.local
VMWARE_PASSWORD=changeme

# Enable SSL certificate verification for vSphere (secure default).
# Set to "false" only for local testing with self-signed certificates.
# WARNING: Disabling certificate validation exposes connections to man-in-the-middle attacks.
VMWARE_VALIDATE_CERTS=true

# vSphere-specific configuration (not global VMware module vars)
VSPHERE_DATACENTER=Datacenter
VSPHERE_DATASTORE=netapp-iscsi-ds  # Must support copy-offload
VSPHERE_NETWORK="VM Network"

# ========================================
# OpenShift Configuration
# ========================================
OCP_API_URL=https://api.cluster.example.com:6443
OCP_USERNAME=admin
OCP_PASSWORD=changeme
# Namespace where the migrated VM will be created.
OCP_NAMESPACE=openshift-mtv
# Storage class for migrated volumes. Must map to the XCOPY-capable storage.
OCP_STORAGE_CLASS=netapp-iscsi-sc

# ========================================
# Forklift Configuration
# ========================================
# The namespace where Forklift/MTV is installed. Often the same as OCP_NAMESPACE.
FORKLIFT_NAMESPACE=openshift-mtv
# The name of the vSphere provider in Forklift.
VSPHERE_PROVIDER_NAME=vsphere-provider
# The name of the OpenShift/Host provider in Forklift.
HOST_PROVIDER_NAME=host-provider
# The name of the route exposing the Forklift API. Defaults to forklift-inventory.
FORKLIFT_API_ROUTE=forklift-inventory

# ========================================
# Storage Configuration
# ========================================
STORAGE_VENDOR_PRODUCT=ontap  # Options: "ontap", "vantara", etc...
STORAGE_HOSTNAME=netapp.example.com
STORAGE_USERNAME=admin
STORAGE_PASSWORD=changeme

# Name for the secret that will hold storage credentials.
# If using TARGET_VM_NAME, this must be predefined.
# Otherwise, it's generated dynamically.
STORAGE_SECRET_NAME=storage-credentials

# NetApp ONTAP specific (if using ONTAP)
ONTAP_SVM=svm1  # Optional: specify SVM if needed

# ========================================
# Test VM Configuration
# ========================================
VM_NAME_PREFIX=copyoffload-test-vm

# Optional: Use an existing VM instead of creating a new one.
# The VM must exist on the source vSphere provider.
# TARGET_VM_NAME=my-existing-vm

# VM Hardware Configuration (optional - will use sensible defaults)
VM_DISK_SIZE_GB=20     # GB - VM disk size (default: 20GB)
VM_MEMORY_MB=2048      # MB - VM memory allocation (default: 2048MB)
VM_CPU_COUNT=2         # Number of vCPUs (default: 2)

# Operating System Configuration
# Supported OS types: linux-centos7, linux-centos8, linux-rhel7, linux-rhel8, linux-rhel9, 
#                     linux-ubuntu1804, linux-ubuntu2004, linux-ubuntu2204,
#                     windows-2016, windows-2019, windows-2022, windows-10, windows-11
VM_OS_TYPE=linux-rhel8       # OS type for VM (default: linux-rhel8)

# VM Creation Options (choose one if not using TARGET_VM_NAME)
# Option 1: Use existing VM template (recommended)
VM_TEMPLATE_NAME=rhel8-template # VM template name in vSphere (leave empty to create from scratch)

# Option 2: Create from ISO (if no template available)
# VM_ISO_PATH=[datastore] iso/rhel-8.7-x86_64-dvd.iso  # ISO path for OS installation

# ========================================
# Test Behaviour Configuration
# ========================================
# Timeouts must be in a format parsable by time.ParseDuration (e.g., "600s", "10m", "1h")
PLAN_TIMEOUT=500s       # Timeout for plan to become ready.
MIGRATION_TIMEOUT=500s  # Timeout for migration to complete.
VM_BOOT_TIMEOUT=300s    # Timeout for migrated VM to boot in OpenShift.

DEBUG_MODE=false          # Enable verbose debug logging.
KEEP_VM_ON_SUCCESS=false  # Keep test VM after successful test run.

# Directory where E2E test logs and summaries will be saved.
# Defaults to the 'logs' directory within the container if not set.
# E2E_LOG_DIR=/path/to/your/logs

# ========================================
# Remote Execution via SSH (Optional)
# ========================================
# IMPORTANT: SSH configuration is completely OPTIONAL.
# If you're running the tests locally or in a container that already has
# access to your OpenShift cluster, you can leave these variables commented out.
#
# Only set these variables if you need to run `oc` commands on a remote server
# (e.g., bastion host). This avoids copying kubeconfig locally.
# The remote user must have passwordless SSH access (e.g., via SSH keys)
# and have `oc` in their shell's PATH.

# SSH_HOST=bastion.example.com
# SSH_USER=your_user
# SSH_KEY_PATH=/home/user/.ssh/id_rsa

# If the kubeconfig on the remote server is not in a standard location
# (`~/.kube/config`), specify its absolute path here.
# REMOTE_KUBECONFIG_PATH=/home/your_user/custom/path/to/kubeconfig
